# Refactor Code

Refactor the following while preserving behavior: $ARGUMENTS

## Refactoring Principles

1. **Preserve Behavior**: No functional changes unless explicitly requested
2. **Small Steps**: Make incremental changes, verify tests pass
3. **Follow Patterns**: Align with existing codebase conventions
4. **Improve Readability**: Make code more understandable
5. **Reduce Complexity**: Simplify where possible

## Before Starting

- Ensure tests exist for the code being refactored
- If no tests exist, write them first
- Run tests to establish baseline

## Refactoring Steps

1. **Analyze**: Identify code smells and improvement opportunities
2. **Plan**: List specific changes to make
3. **Execute**: Make changes incrementally
4. **Verify**: Run tests after each change
5. **Review**: Ensure code is cleaner without behavior changes

## Common Improvements

- Extract methods for better readability
- Rename variables/functions for clarity
- Remove dead code
- Reduce nesting and complexity
- Apply appropriate design patterns
- Improve type safety

## Output

Provide:
- Summary of changes made
- Before/after comparison for significant changes
- Confirmation that tests still pass
- Any follow-up refactoring suggestions
